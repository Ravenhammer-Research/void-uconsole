# wpa_supplicant configuration
# Generated by Ansible

ctrl_interface=/var/run/wpa_supplicant
ctrl_interface_group=wheel
update_config=1

{% if void_wpa_supplicant_config.country is defined %}
country={{ void_wpa_supplicant_config.country }}
{% endif %}

{% if void_wpa_supplicant_config.networks is defined %}
{% for network in void_wpa_supplicant_config.networks %}
network={
    ssid="{{ network.ssid }}"
    {% if network.psk is defined %}
    psk="{{ network.psk }}"
    {% elif network.password is defined %}
    psk="{{ network.password }}"
    {% endif %}
    {% if network.key_mgmt is defined %}
    key_mgmt={{ network.key_mgmt }}
    {% else %}
    key_mgmt=WPA-PSK
    {% endif %}
    {% if network.priority is defined %}
    priority={{ network.priority }}
    {% endif %}
    {% if network.scan_ssid is defined %}
    scan_ssid={{ network.scan_ssid | int }}
    {% endif %}
    {% if network.proto is defined %}
    proto={{ network.proto }}
    {% endif %}
    {% if network.pairwise is defined %}
    pairwise={{ network.pairwise }}
    {% endif %}
    {% if network.group is defined %}
    group={{ network.group }}
    {% endif %}
    {% if network.auth_alg is defined %}
    auth_alg={{ network.auth_alg }}
    {% endif %}
    {% if network.eap is defined %}
    eap={{ network.eap }}
    {% endif %}
    {% if network.identity is defined %}
    identity="{{ network.identity }}"
    {% endif %}
    {% if network.password is defined and network.eap is defined %}
    password="{{ network.password }}"
    {% endif %}
    {% if network.ca_cert is defined %}
    ca_cert="{{ network.ca_cert }}"
    {% endif %}
    {% if network.client_cert is defined %}
    client_cert="{{ network.client_cert }}"
    {% endif %}
    {% if network.private_key is defined %}
    private_key="{{ network.private_key }}"
    {% endif %}
    {% if network.private_key_passwd is defined %}
    private_key_passwd="{{ network.private_key_passwd }}"
    {% endif %}
}
{% endfor %}
{% endif %}
